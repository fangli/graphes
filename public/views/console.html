<div ng-hide="isControlPanelHidden" class="bs-example">
<div class="row">
  <div class="col-xs-12">
    <label>Raw Query JSON</label>
    <textarea ng-model="rawSettings" class="form-control" rows="10"></textarea>
  </div>
</div>
</div>


<div ng-hide="isControlPanelHidden" class="highlight">


  <div class="pull-right">
    <span>

    </span>
  </div>


  <button ng-disabled="status.jsonNotValid || status.isLoading" ng-click="showGraph()" class="btn btn-sm btn-primary">Show !</button>
  <button ng-click="editInWorkbench()" class="btn btn-sm btn-default">Edit in Workbench</button>
  &nbsp;
  <img ng-show="status.isLoading" src="images/loading.gif">
</div>

<div ng-hide="!isControlPanelHidden" class="row">
  <div class="col-xs-12">
    <button ng-click="isControlPanelHidden = false" class="btn btn-default btn-block"><i class="fa fa-chevron-down"></i> Show Query Panel <i class="fa fa-chevron-down"></i></button>
  </div>
  <hr>
</div>


<div class="highlight">
  <h4>Graph Output {{ status.loadingPercent }}</h4>
  <div class="row">
    <div ng-show="(!status.isLoading) && charts.loaded && (!status.archiveSaved)" class="col-xs-12">
      <a tooltip-popup-delay="500" tooltip="Click to rename" href="#" editable-text="archive.name">{{ archive.name }}</a>
      <button tooltip-popup-delay="500" tooltip="Save all displayed charts as a archive and you can share it later" ng-click="saveAsArchive()" class="btn btn-xs btn-default"><i class="fa fa-floppy-o"></i> Save Result</button>
    </div>
    <div ng-show="(!status.isLoading) && charts.loaded && (status.archiveSaved)" class="col-xs-12">
      <p class="text-success">All following charts have been saved as <a ng-href="{{ status.archiveUrl }}">{{ status.archiveUrl }}</a></p>
    </div>
  </div>
  <hr>
  <div class="row">
    <div ng-repeat="chart in charts.data">
      <highchart config="chart" class="col-xs-12"></highchart>
    </div>
    <div ng-show="status.isLoading" class="col-xs-12">
      <img src="images/loading_line.gif">
    </div>
  </div>
</div>
